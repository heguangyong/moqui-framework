# æ•…éšœæ’æŸ¥åœºæ™¯

> **ç”¨é€”**: ç³»ç»ŸåŒ–çš„æ•…éšœè¯Šæ–­å’Œæ’æŸ¥æµç¨‹  
> **é€‚ç”¨**: æ‰€æœ‰å¼€å‘å’Œè¿ç»´æ•…éšœæ’æŸ¥ä»»åŠ¡

## ğŸ¯ åœºæ™¯æ¦‚è¿°

é‡åˆ°é—®é¢˜æ—¶ï¼Œéœ€è¦ç³»ç»ŸåŒ–åœ°è¯Šæ–­å’Œæ’æŸ¥ï¼Œé¿å…ç›²ç›®å°è¯•ã€‚é€šè¿‡åˆ†ç±»è¯†åˆ«ã€é€æ­¥æ’æŸ¥ã€è®°å½•è¿‡ç¨‹ï¼Œå¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚

## âœ… å‰ææ¡ä»¶æ£€æŸ¥

### 1. é—®é¢˜ä¿¡æ¯æ”¶é›†
- [ ] è®°å½•å®Œæ•´çš„é”™è¯¯ä¿¡æ¯
- [ ] è®°å½•é—®é¢˜å‘ç”Ÿçš„æ—¶é—´
- [ ] è®°å½•é—®é¢˜å‘ç”Ÿçš„ç¯å¢ƒ
- [ ] è®°å½•é—®é¢˜å¤ç°æ­¥éª¤

### 2. ç¯å¢ƒä¿¡æ¯
- [ ] æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬
- [ ] è½¯ä»¶ç‰ˆæœ¬ä¿¡æ¯
- [ ] ç›¸å…³é…ç½®æ–‡ä»¶
- [ ] æ—¥å¿—æ–‡ä»¶ä½ç½®

### 3. å·¥å…·å‡†å¤‡
- [ ] æ—¥å¿—æŸ¥çœ‹å·¥å…·
- [ ] è°ƒè¯•å·¥å…·
- [ ] ç½‘ç»œæŠ“åŒ…å·¥å…·ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] æ€§èƒ½åˆ†æå·¥å…·ï¼ˆå¦‚éœ€è¦ï¼‰

## ğŸ“‹ é—®é¢˜åˆ†ç±»å’Œè¯†åˆ«

### ç±»å‹1: ç¼–è¯‘/æ„å»ºé”™è¯¯

**ç‰¹å¾**:
- ä»£ç æ— æ³•ç¼–è¯‘
- æ„å»ºè¿‡ç¨‹å¤±è´¥
- ä¾èµ–å®‰è£…å¤±è´¥

**å¸¸è§åŸå› **:
- è¯­æ³•é”™è¯¯
- ç±»å‹é”™è¯¯
- ä¾èµ–ç‰ˆæœ¬å†²çª
- é…ç½®é”™è¯¯

**æ’æŸ¥æµç¨‹**: è§"ç¼–è¯‘é”™è¯¯æ’æŸ¥"

### ç±»å‹2: è¿è¡Œæ—¶é”™è¯¯

**ç‰¹å¾**:
- åº”ç”¨å¯åŠ¨å¤±è´¥
- è¿è¡Œä¸­å´©æºƒ
- åŠŸèƒ½å¼‚å¸¸

**å¸¸è§åŸå› **:
- ç©ºæŒ‡é’ˆå¼‚å¸¸
- èµ„æºæœªæ‰¾åˆ°
- æƒé™ä¸è¶³
- é…ç½®é”™è¯¯

**æ’æŸ¥æµç¨‹**: è§"è¿è¡Œæ—¶é”™è¯¯æ’æŸ¥"

### ç±»å‹3: è®¤è¯/æˆæƒé”™è¯¯

**ç‰¹å¾**:
- ç™»å½•å¤±è´¥
- æ¥å£è¿”å›401/403
- æƒé™ä¸è¶³

**å¸¸è§åŸå› **:
- è®¤è¯é…ç½®é”™è¯¯
- Tokenè¿‡æœŸ
- æƒé™é…ç½®é”™è¯¯
- Sessionå¤±æ•ˆ

**æ’æŸ¥æµç¨‹**: è§"è®¤è¯é”™è¯¯æ’æŸ¥"

### ç±»å‹4: æ•°æ®åº“é”™è¯¯

**ç‰¹å¾**:
- æ•°æ®åº“è¿æ¥å¤±è´¥
- SQLæ‰§è¡Œé”™è¯¯
- æ•°æ®ä¸ä¸€è‡´

**å¸¸è§åŸå› **:
- è¿æ¥é…ç½®é”™è¯¯
- SQLè¯­æ³•é”™è¯¯
- æƒé™ä¸è¶³
- æ•°æ®çº¦æŸå†²çª

**æ’æŸ¥æµç¨‹**: è§"æ•°æ®åº“é”™è¯¯æ’æŸ¥"

### ç±»å‹5: ç½‘ç»œ/APIé”™è¯¯

**ç‰¹å¾**:
- æ¥å£è°ƒç”¨å¤±è´¥
- è¶…æ—¶
- è¿æ¥è¢«æ‹’ç»

**å¸¸è§åŸå› **:
- ç½‘ç»œä¸é€š
- æœåŠ¡æœªå¯åŠ¨
- ç«¯å£è¢«å ç”¨
- é˜²ç«å¢™é˜»æ­¢

**æ’æŸ¥æµç¨‹**: è§"ç½‘ç»œé”™è¯¯æ’æŸ¥"

### ç±»å‹6: æ€§èƒ½é—®é¢˜

**ç‰¹å¾**:
- å“åº”æ…¢
- å†…å­˜å ç”¨é«˜
- CPUå ç”¨é«˜

**å¸¸è§åŸå› **:
- ç®—æ³•æ•ˆç‡ä½
- å†…å­˜æ³„æ¼
- æ­»å¾ªç¯
- èµ„æºæœªé‡Šæ”¾

**æ’æŸ¥æµç¨‹**: è§"æ€§èƒ½é—®é¢˜æ’æŸ¥"

## ğŸ” è¯¦ç»†æ’æŸ¥æµç¨‹

### ç¼–è¯‘é”™è¯¯æ’æŸ¥

#### æ­¥éª¤1: æŸ¥çœ‹å®Œæ•´é”™è¯¯ä¿¡æ¯
```bash
# æŸ¥çœ‹è¯¦ç»†ç¼–è¯‘è¾“å‡º
npm run build --verbose

# æˆ–
./gradlew build --stacktrace
```

#### æ­¥éª¤2: å®šä½é”™è¯¯ä½ç½®
- æŸ¥çœ‹é”™è¯¯å †æ ˆ
- å®šä½åˆ°å…·ä½“æ–‡ä»¶å’Œè¡Œå·
- ç†è§£é”™è¯¯ä¿¡æ¯å«ä¹‰

#### æ­¥éª¤3: æ£€æŸ¥å¸¸è§é—®é¢˜
- [ ] è¯­æ³•é”™è¯¯ï¼ˆæ‹¬å·ã€åˆ†å·ã€å¼•å·ï¼‰
- [ ] ç±»å‹é”™è¯¯ï¼ˆTypeScript/Javaï¼‰
- [ ] å¯¼å…¥è·¯å¾„é”™è¯¯
- [ ] ä¾èµ–ç‰ˆæœ¬å†²çª

#### æ­¥éª¤4: è§£å†³æ–¹æ¡ˆ
```bash
# æ¸…ç†ç¼“å­˜
npm run clean
rm -rf node_modules package-lock.json
npm install

# æˆ–
./gradlew clean build
```

### è¿è¡Œæ—¶é”™è¯¯æ’æŸ¥

#### æ­¥éª¤1: æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/moqui.log

# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
journalctl -u service-name -f

# æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°
# F12 -> Console
```

#### æ­¥éª¤2: å®šä½é”™è¯¯ä½ç½®
- æŸ¥çœ‹é”™è¯¯å †æ ˆ
- æ‰¾åˆ°æœ€åä¸€ä¸ªè‡ªå·±ä»£ç çš„è°ƒç”¨
- ç†è§£é”™è¯¯å‘ç”Ÿçš„ä¸Šä¸‹æ–‡

#### æ­¥éª¤3: æ£€æŸ¥å¸¸è§é—®é¢˜
- [ ] ç©ºæŒ‡é’ˆ/undefined
- [ ] èµ„æºæ–‡ä»¶è·¯å¾„
- [ ] é…ç½®æ–‡ä»¶é”™è¯¯
- [ ] ç¯å¢ƒå˜é‡ç¼ºå¤±

#### æ­¥éª¤4: è°ƒè¯•
```javascript
// æ·»åŠ è°ƒè¯•æ—¥å¿—
console.log('Debug:', variable)
ec.logger.info("Debug: ${variable}")

// ä½¿ç”¨æ–­ç‚¹è°ƒè¯•
debugger
```

### è®¤è¯é”™è¯¯æ’æŸ¥

#### æ­¥éª¤1: ç¡®è®¤é”™è¯¯ç±»å‹
```bash
# æŸ¥çœ‹HTTPçŠ¶æ€ç 
curl -i http://localhost:8080/api/endpoint

# 401: æœªè®¤è¯
# 403: æ— æƒé™
```

#### æ­¥éª¤2: æ£€æŸ¥è®¤è¯é…ç½®

**Moqui Service**:
```xml
<!-- æ£€æŸ¥authenticateå±æ€§ -->
<service verb="get" noun="Data" authenticate="false">
```

**Moqui Screen**:
```xml
<!-- æ£€æŸ¥require-authenticationå±æ€§ -->
<screen require-authentication="false">
```

**å‚è€ƒ**: `.kiro/rules/standards/moqui/authentication.md`

#### æ­¥éª¤3: æ£€æŸ¥Token/Session
```bash
# æ£€æŸ¥Tokenæ˜¯å¦æœ‰æ•ˆ
curl -H "Authorization: Bearer $TOKEN" http://localhost:8080/api/endpoint

# æ£€æŸ¥Session
curl -b cookies.txt http://localhost:8080/api/endpoint
```

#### æ­¥éª¤4: æ£€æŸ¥æƒé™é…ç½®
```bash
# æŸ¥çœ‹ç”¨æˆ·æƒé™
SELECT * FROM user_permission WHERE user_id = 'xxx';

# æŸ¥çœ‹è§’è‰²æƒé™
SELECT * FROM role_permission WHERE role_id = 'xxx';
```

### æ•°æ®åº“é”™è¯¯æ’æŸ¥

#### æ­¥éª¤1: æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
```bash
# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
tail -f /var/log/postgresql/postgresql.log

# æˆ–
tail -f /var/log/mysql/error.log
```

#### æ­¥éª¤2: æ£€æŸ¥è¿æ¥
```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
psql -h localhost -U username -d database

# æˆ–
mysql -h localhost -u username -p database
```

#### æ­¥éª¤3: æ£€æŸ¥SQLè¯­å¥
```sql
-- åœ¨æ•°æ®åº“ä¸­ç›´æ¥æ‰§è¡ŒSQL
-- æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
```

#### æ­¥éª¤4: æ£€æŸ¥å¸¸è§é—®é¢˜
- [ ] è¿æ¥å­—ç¬¦ä¸²æ­£ç¡®
- [ ] ç”¨æˆ·åå¯†ç æ­£ç¡®
- [ ] æ•°æ®åº“å­˜åœ¨
- [ ] è¡¨ç»“æ„æ­£ç¡®
- [ ] æƒé™è¶³å¤Ÿ

### ç½‘ç»œé”™è¯¯æ’æŸ¥

#### æ­¥éª¤1: æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ
ps aux | grep java
ps aux | grep node

# æ£€æŸ¥ç«¯å£æ˜¯å¦ç›‘å¬
netstat -tlnp | grep 8080
lsof -i :8080
```

#### æ­¥éª¤2: æ£€æŸ¥ç½‘ç»œè¿é€šæ€§
```bash
# æµ‹è¯•è¿æ¥
curl http://localhost:8080/health

# æµ‹è¯•DNS
nslookup domain.com

# æµ‹è¯•ç«¯å£
telnet localhost 8080
nc -zv localhost 8080
```

#### æ­¥éª¤3: æ£€æŸ¥é˜²ç«å¢™
```bash
# æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™
sudo iptables -L

# æˆ–
sudo firewall-cmd --list-all
```

#### æ­¥éª¤4: æ£€æŸ¥ä»£ç†è®¾ç½®
```bash
# æŸ¥çœ‹ä»£ç†ç¯å¢ƒå˜é‡
echo $HTTP_PROXY
echo $HTTPS_PROXY

# ä¸´æ—¶å–æ¶ˆä»£ç†
unset HTTP_PROXY
unset HTTPS_PROXY
```

### æ€§èƒ½é—®é¢˜æ’æŸ¥

#### æ­¥éª¤1: æ€§èƒ½ç›‘æ§
```bash
# CPUå’Œå†…å­˜ä½¿ç”¨
top
htop

# è¿›ç¨‹è¯¦æƒ…
ps aux | grep java

# å†…å­˜è¯¦æƒ…
free -h
```

#### æ­¥éª¤2: åº”ç”¨æ€§èƒ½åˆ†æ
```bash
# Javaåº”ç”¨
jstack <pid>  # çº¿ç¨‹å †æ ˆ
jmap -heap <pid>  # å †å†…å­˜
jstat -gc <pid> 1000  # GCç»Ÿè®¡

# Node.jsåº”ç”¨
node --inspect app.js
# ä½¿ç”¨Chrome DevToolsåˆ†æ
```

#### æ­¥éª¤3: æ•°æ®åº“æ€§èƒ½
```sql
-- æ…¢æŸ¥è¯¢æ—¥å¿—
SHOW VARIABLES LIKE 'slow_query_log%';

-- æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’
EXPLAIN SELECT ...;

-- æŸ¥çœ‹ç´¢å¼•
SHOW INDEX FROM table_name;
```

#### æ­¥éª¤4: ç½‘ç»œæ€§èƒ½
```bash
# ç½‘ç»œå»¶è¿Ÿ
ping domain.com

# è·¯ç”±è¿½è¸ª
traceroute domain.com

# å¸¦å®½æµ‹è¯•
iperf3 -c server
```

## ğŸ“ é—®é¢˜è®°å½•æ¨¡æ¿

### é—®é¢˜æè¿°
```
é—®é¢˜æ ‡é¢˜: [ç®€çŸ­æè¿°]
å‘ç”Ÿæ—¶é—´: [YYYY-MM-DD HH:MM:SS]
ç¯å¢ƒ: [å¼€å‘/æµ‹è¯•/ç”Ÿäº§]
å½±å“èŒƒå›´: [ç”¨æˆ·/åŠŸèƒ½]
```

### é”™è¯¯ä¿¡æ¯
```
[å®Œæ•´çš„é”™è¯¯å †æ ˆæˆ–æ—¥å¿—]
```

### å¤ç°æ­¥éª¤
```
1. æ­¥éª¤1
2. æ­¥éª¤2
3. æ­¥éª¤3
```

### æ’æŸ¥è¿‡ç¨‹
```
1. æ£€æŸ¥äº†XXXï¼Œå‘ç°YYY
2. å°è¯•äº†ZZZï¼Œç»“æœæ˜¯AAA
3. æœ€ç»ˆå®šä½åˆ°BBB
```

### è§£å†³æ–¹æ¡ˆ
```
[è¯¦ç»†çš„è§£å†³æ­¥éª¤]
```

### æ ¹æœ¬åŸå› 
```
[é—®é¢˜çš„æ ¹æœ¬åŸå› åˆ†æ]
```

### é¢„é˜²æªæ–½
```
[å¦‚ä½•é¿å…ç±»ä¼¼é—®é¢˜å†æ¬¡å‘ç”Ÿ]
```

## âš ï¸ å¸¸è§é”™è¯¯é€ŸæŸ¥

### Moquiç›¸å…³

#### "User must be logged in to call service"
**åŸå› **: Serviceä½¿ç”¨äº†é”™è¯¯çš„è®¤è¯å±æ€§  
**è§£å†³**: ä½¿ç”¨`authenticate="false"`è€Œä¸æ˜¯`require-authentication`  
**å‚è€ƒ**: `.kiro/rules/standards/moqui/authentication.md`

#### "Entity not found"
**åŸå› **: å®ä½“æŸ¥è¯¢æœªç»•è¿‡æƒé™æ£€æŸ¥  
**è§£å†³**: æ·»åŠ `.disableAuthz()`  
**å‚è€ƒ**: `.kiro/rules/standards/moqui/entity.md`

#### "Menu not showing"
**åŸå› **: åªé…ç½®äº†qapps.xmlï¼Œå¿½ç•¥äº†apps.xml  
**è§£å†³**: åŒæ—¶é…ç½®apps.xmlå’Œqapps.xml  
**å‚è€ƒ**: `.kiro/rules/scenarios/moqui-development.md`

### å‰ç«¯ç›¸å…³

#### "Module not found"
**åŸå› **: å¯¼å…¥è·¯å¾„é”™è¯¯æˆ–ä¾èµ–æœªå®‰è£…  
**è§£å†³**: æ£€æŸ¥è·¯å¾„å’Œ`npm install`

#### "Unexpected token"
**åŸå› **: è¯­æ³•é”™è¯¯æˆ–Babelé…ç½®é—®é¢˜  
**è§£å†³**: æ£€æŸ¥è¯­æ³•å’Œé…ç½®æ–‡ä»¶

#### "Memory leak"
**åŸå› **: æœªæ¸…ç†äº‹ä»¶ç›‘å¬å™¨æˆ–å®šæ—¶å™¨  
**è§£å†³**: åœ¨`onUnmounted`ä¸­æ¸…ç†  
**å‚è€ƒ**: `.kiro/rules/scenarios/frontend-development.md`

### æ•°æ®åº“ç›¸å…³

#### "Connection refused"
**åŸå› **: æ•°æ®åº“æœªå¯åŠ¨æˆ–è¿æ¥é…ç½®é”™è¯¯  
**è§£å†³**: å¯åŠ¨æ•°æ®åº“ï¼Œæ£€æŸ¥é…ç½®

#### "Duplicate entry"
**åŸå› **: å”¯ä¸€çº¦æŸå†²çª  
**è§£å†³**: æ£€æŸ¥æ•°æ®ï¼Œä¿®æ”¹æˆ–åˆ é™¤é‡å¤æ•°æ®

#### "Deadlock detected"
**åŸå› **: äº‹åŠ¡æ­»é”  
**è§£å†³**: ä¼˜åŒ–äº‹åŠ¡é¡ºåºï¼Œå‡å°‘é”æŒæœ‰æ—¶é—´

## ğŸ”§ è°ƒè¯•å·¥å…·

### æ—¥å¿—å·¥å…·
```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f logs/app.log

# æœç´¢æ—¥å¿—
grep "ERROR" logs/app.log

# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯
grep "ERROR" logs/app.log | tail -20
```

### ç½‘ç»œå·¥å…·
```bash
# æŠ“åŒ…
tcpdump -i any port 8080 -w capture.pcap

# æŸ¥çœ‹HTTPè¯·æ±‚
curl -v http://localhost:8080/api/endpoint

# æµ‹è¯•API
httpie http://localhost:8080/api/endpoint
```

### æ€§èƒ½å·¥å…·
```bash
# ç³»ç»Ÿç›‘æ§
htop
iotop
nethogs

# åº”ç”¨ç›‘æ§
jconsole
jvisualvm
```

## ğŸ“š ç›¸å…³æŠ€æœ¯è§„èŒƒ

- **Moquiå¼€å‘**: `.kiro/rules/scenarios/moqui-development.md`
- **å‰ç«¯å¼€å‘**: `.kiro/rules/scenarios/frontend-development.md`
- **è®¤è¯è§„èŒƒ**: `.kiro/rules/standards/moqui/authentication.md`
- **å®ä½“æ“ä½œ**: `.kiro/rules/standards/moqui/entity.md`

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ç³»ç»ŸåŒ–æ’æŸ¥
- ä¸è¦ç›²ç›®å°è¯•
- æŒ‰ç…§åˆ†ç±»å’Œæµç¨‹æ’æŸ¥
- è®°å½•æ’æŸ¥è¿‡ç¨‹

### 2. æ—¥å¿—å…ˆè¡Œ
- å…ˆæŸ¥çœ‹æ—¥å¿—
- ç†è§£é”™è¯¯ä¿¡æ¯
- å®šä½é—®é¢˜ä½ç½®

### 3. éš”ç¦»å˜é‡
- ä¸€æ¬¡åªæ”¹ä¸€ä¸ªå˜é‡
- éªŒè¯æ¯æ¬¡æ”¹åŠ¨çš„æ•ˆæœ
- é¿å…å¤šä¸ªæ”¹åŠ¨æ··åœ¨ä¸€èµ·

### 4. è®°å½•å’Œåˆ†äº«
- è®°å½•é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
- åˆ†äº«ç»™å›¢é˜Ÿ
- å»ºç«‹çŸ¥è¯†åº“

### 5. é¢„é˜²ä¸ºä¸»
- å®Œå–„çš„é”™è¯¯å¤„ç†
- å……åˆ†çš„æ—¥å¿—è®°å½•
- å®šæœŸçš„ä»£ç å®¡æŸ¥
- è‡ªåŠ¨åŒ–æµ‹è¯•

---

**ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-01-16  
**é€‚ç”¨èŒƒå›´**: æ‰€æœ‰æ•…éšœæ’æŸ¥ä»»åŠ¡
