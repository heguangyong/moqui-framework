# UI功能集成 - 实现计划

## 实现概述

将小说动漫生成器的核心功能集成到已完成的现代化三栏式UI框架中，按照从基础功能到高级特性的顺序实施。

## 任务列表

- [ ] 1. 重构侧边栏导航功能
  - [ ] 1.1 更新侧边栏图标映射到实际功能模块
    - 将Home映射到Dashboard概览
    - 将Workflow映射到工作流编辑器
    - 将Star映射到收藏项目
    - 将Key映射到API配置
    - 将Grid映射到资源库
    - 将Users映射到角色管理
    - _需求: 1.1-1.6_
  - [ ] 1.2 实现侧边栏激活状态与路由同步
    - 根据当前路由高亮对应图标
    - 添加路由切换动画
    - _需求: 1.1-1.6_

- [ ] 2. 实现项目管理功能
  - [ ] 2.1 创建项目Store (Pinia)
    - 定义项目数据结构
    - 实现CRUD操作
    - 添加本地存储持久化
    - _需求: 2.1-2.5_
  - [ ] 2.2 更新中间面板Projects区域
    - 显示Dashboard/我的项目/共享项目分类
    - 实现项目计数徽章
    - 添加项目点击切换功能
    - _需求: 2.1-2.5_

- [ ] 3. 实现任务状态管理
  - [ ] 3.1 创建任务Store (Pinia)
    - 定义任务数据结构
    - 实现状态分类计算属性
    - 添加任务状态更新方法
    - _需求: 3.1-3.5_
  - [ ] 3.2 更新中间面板Status区域
    - 显示新建/处理中/待审核分类
    - 实现任务计数徽章
    - 添加状态点击筛选功能
    - _需求: 3.1-3.5_

- [ ] 4. 实现文件树功能
  - [ ] 4.1 创建文件树组件
    - 实现递归树形结构渲染
    - 添加展开/折叠功能
    - 实现文件类型图标映射
    - _需求: 4.1-4.5_
  - [ ] 4.2 更新中间面板Documents区域
    - 集成文件树组件
    - 实现搜索过滤功能
    - 添加右键上下文菜单
    - _需求: 4.1-4.6_

- [ ] 5. 实现主区域视图切换
  - [ ] 5.1 创建DashboardView组件
    - 显示项目统计卡片
    - 添加最近活动列表
    - 实现快速操作按钮
    - _需求: 5.1_
  - [ ] 5.2 创建WorkflowView组件
    - 实现可视化工作流画布
    - 添加节点拖拽功能
    - 实现节点连线功能
    - _需求: 5.2_
  - [ ] 5.3 创建AssetsView组件
    - 实现资源网格视图
    - 添加筛选和搜索功能
    - 实现资源预览功能
    - _需求: 5.3_
  - [ ] 5.4 创建CharactersView组件
    - 实现角色卡片列表
    - 添加角色详情面板
    - 实现角色编辑功能
    - _需求: 5.4_
  - [ ] 5.5 创建FilePreviewView组件
    - 实现小说文本预览
    - 实现剧本预览
    - 实现分镜预览
    - 实现视频预览
    - _需求: 5.5_

- [ ] 6. 实现标签页系统
  - [ ] 6.1 创建TabBar组件
    - 实现标签页渲染
    - 添加标签切换功能
    - 实现标签关闭功能
    - _需求: 6.1-6.3_
  - [ ] 6.2 实现标签页状态管理
    - 创建标签页Store
    - 实现标签页溢出处理
    - 添加未保存修改指示器
    - _需求: 6.4-6.5_

- [ ] 7. 实现文件拖放导入
  - [ ] 7.1 创建拖放区域组件
    - 实现拖放事件监听
    - 添加拖放区域高亮效果
    - 实现文件类型验证
    - _需求: 7.1-7.4_
  - [ ] 7.2 实现小说导入流程
    - 创建新项目
    - 调用小说解析器
    - 显示解析进度
    - 展示解析结果
    - _需求: 7.2-7.5_

- [ ] 8. 实现设置面板
  - [ ] 8.1 创建SettingsView组件
    - 实现设置分类导航
    - 添加AI服务配置表单
    - 添加生成参数配置表单
    - _需求: 8.1-8.3_
  - [ ] 8.2 实现设置持久化
    - 创建设置Store
    - 实现本地存储保存
    - 添加配置验证逻辑
    - _需求: 8.4-8.5_

- [ ] 9. 检查点 - 确保基础功能正常
  - 确保所有测试通过，如有问题请询问用户

- [ ] 10. 集成小说解析服务
  - [ ] 10.1 连接NovelParser服务
    - 实现文件上传接口
    - 处理解析结果
    - 显示章节结构
    - _需求: 来自novel-anime-generator specs_
  - [ ] 10.2 集成角色识别功能
    - 显示识别的角色列表
    - 允许用户确认/编辑角色
    - 保存角色档案
    - _需求: 来自novel-anime-generator specs_

- [ ] 11. 集成工作流编辑器
  - [ ] 11.1 实现工作流节点
    - 创建解析节点
    - 创建角色分析节点
    - 创建剧本生成节点
    - 创建分镜生成节点
    - 创建视频生成节点
    - _需求: 来自novel-anime-generator specs_
  - [ ] 11.2 实现工作流执行
    - 实现节点执行逻辑
    - 显示执行进度
    - 处理执行错误
    - _需求: 来自novel-anime-generator specs_

- [ ] 12. 最终检查点 - 确保所有功能正常
  - 确保所有测试通过，如有问题请询问用户
