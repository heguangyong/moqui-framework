import{a as r}from"./api-BR07cdPl.js";import{n as g}from"./novelApi-CpaaRXu-.js";import"./_plugin-vue_export-helper-BFgqyxDe.js";import"./runtime-core.esm-bundler-8-XbLWPr.js";import"./pinia-Be3yrKEl.js";import"./preload-helper-CmsKOCeN.js";class c{async extractCharacters(s){try{const e=await r.axiosInstance.post("/novels/extract-characters",{novelId:s});return{success:e.data.success||!0,charactersExtracted:e.data.charactersExtracted,message:e.data.message}}catch(e){return console.error("Failed to extract characters:",e),{success:!1,message:e.response?.data?.message||"Failed to extract characters"}}}async getCharacters(s,e){try{const a={novelId:s};e&&Object.assign(a,e);const t=await r.axiosInstance.get("/characters",{params:a});return{success:!0,characters:t.data.characters||t.data,totalCount:t.data.totalCount}}catch(a){return console.error("Failed to get characters:",a),{success:!1,message:a.response?.data?.message||"Failed to get characters"}}}async getCharacter(s){try{const e=await r.axiosInstance.get("/character",{params:{characterId:s}});return{success:!0,character:e.data.character||e.data}}catch(e){return console.error("Failed to get character:",e),{success:!1,message:e.response?.data?.message||"Failed to get character"}}}async updateCharacter(s,e){try{const a=await r.axiosInstance.put("/character",{characterId:s,...e});return{success:a.data.success||!0,message:a.data.message}}catch(a){return console.error("Failed to update character:",a),{success:!1,message:a.response?.data?.message||"Failed to update character"}}}async lockCharacter(s,e){try{const a=await r.axiosInstance.post("/character/lock",{characterId:s,isLocked:e?"Y":"N"});return{success:a.data.success||!0,message:a.data.message}}catch(a){return console.error("Failed to lock character:",a),{success:!1,message:a.response?.data?.message||"Failed to lock character"}}}async mergeCharacters(s){try{const e=await r.axiosInstance.post("/characters-merge",s);return{success:e.data.success||!0,message:e.data.message}}catch(e){return console.error("Failed to merge characters:",e),{success:!1,message:e.response?.data?.message||"Failed to merge characters"}}}async deleteCharacter(s){try{const e=await r.axiosInstance.delete("/character",{params:{characterId:s}});return{success:e.data.success||!0,message:e.data.message}}catch(e){return console.error("Failed to delete character:",e),{success:!1,message:e.response?.data?.message||"Failed to delete character"}}}async createRelationship(s){try{const e=await r.axiosInstance.post("/character/relationships",s);return{success:e.data.success||!0,message:e.data.message}}catch(e){return console.error("Failed to create relationship:",e),{success:!1,message:e.response?.data?.message||"Failed to create relationship"}}}}const l=new c;export{r as apiService,l as characterApi,g as novelApi};
