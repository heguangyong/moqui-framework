import{_ as V,u as P,f as R,c as A,i}from"./_plugin-vue_export-helper-BFgqyxDe.js";import{d as c,r as f,C as I,j as m,k as e,l as s,B as L,y as d,p as o,u as n,v as a,s as E}from"./runtime-core.esm-bundler-8-XbLWPr.js";import"./pinia-Be3yrKEl.js";import"./preload-helper-CmsKOCeN.js";const U={class:"profile-view"},j={class:"profile-card"},F={class:"avatar-section"},G={class:"change-avatar-btn"},M={class:"info-section"},O={class:"info-group"},$={class:"info-value"},q={class:"info-group"},H={class:"info-value"},J={key:0,class:"verified-badge"},K={class:"info-group"},Q={class:"info-value"},T={class:"info-group"},W={class:"info-value"},X={class:"credits-card"},Y={class:"credits-header"},Z={class:"credits-amount"},ss={class:"amount"},ts={class:"security-card"},es={class:"security-info"},is={class:"security-info"},os={class:"security-text"},ns={class:"security-desc"},as={class:"security-info"},ls={__name:"ProfileView",setup(rs){const _=P(),l=R(),u=A(),v=c(()=>l.user?.username||l.user?.email?.split("@")[0]||"ç”¨æˆ·"),g=c(()=>l.user?.email||""),y=c(()=>v.value.charAt(0).toUpperCase()),h=c(()=>l.user?.credits||0),b=f(!0),k=f(""),w=c(()=>l.user?.createdDate||new Date),C=c(()=>l.user?.lastLoginDate||new Date),z=c(()=>{const r=["#7a9188","#8a9cad","#949c98"],t=v.value.charCodeAt(0)%r.length;return r[t]});function p(r){return r?new Date(r).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):"-"}function D(r){u.addNotification({type:"info",title:"åŠŸèƒ½å¼€å‘ä¸­",message:"ç¼–è¾‘åŠŸèƒ½å³å°†ä¸Šçº¿",timeout:2e3})}function N(){u.addNotification({type:"info",title:"åŠŸèƒ½å¼€å‘ä¸­",message:"å……å€¼åŠŸèƒ½å³å°†ä¸Šçº¿",timeout:2e3})}function x(){u.addNotification({type:"info",title:"åŠŸèƒ½å¼€å‘ä¸­",message:"ä¿®æ”¹å¯†ç åŠŸèƒ½å³å°†ä¸Šçº¿",timeout:2e3})}function S(){u.addNotification({type:"info",title:"åŠŸèƒ½å¼€å‘ä¸­",message:"ç»‘å®šæ‰‹æœºåŠŸèƒ½å³å°†ä¸Šçº¿",timeout:2e3})}async function B(){confirm("ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ")&&(await l.logout(),_.push("/login"))}return I(()=>{console.log("ğŸ“‹ ProfileView mounted")}),(r,t)=>(e(),m("div",U,[t[14]||(t[14]=s("div",{class:"profile-header"},[s("h1",null,"ä¸ªäººèµ„æ–™"),s("p",null,"ç®¡ç†æ‚¨çš„è´¦æˆ·ä¿¡æ¯")],-1)),s("div",j,[s("div",F,[s("div",{class:"avatar-large",style:L({background:z.value})},d(y.value),5),s("button",G,[(e(),o(n(a(i).camera),{size:16})),t[1]||(t[1]=s("span",null,"æ›´æ¢å¤´åƒ",-1))])]),s("div",M,[s("div",O,[t[2]||(t[2]=s("label",null,"ç”¨æˆ·å",-1)),s("div",$,[s("span",null,d(v.value),1),s("button",{class:"edit-btn",onClick:t[0]||(t[0]=cs=>D())},[(e(),o(n(a(i).edit),{size:14}))])])]),s("div",q,[t[3]||(t[3]=s("label",null,"é‚®ç®±",-1)),s("div",H,[s("span",null,d(g.value),1),b.value?(e(),m("span",J,"å·²éªŒè¯")):E("",!0)])]),s("div",K,[t[4]||(t[4]=s("label",null,"æ³¨å†Œæ—¶é—´",-1)),s("div",Q,[s("span",null,d(p(w.value)),1)])]),s("div",T,[t[5]||(t[5]=s("label",null,"æœ€åç™»å½•",-1)),s("div",W,[s("span",null,d(p(C.value)),1)])])])]),s("div",X,[s("div",Y,[t[7]||(t[7]=s("h3",null,"ç§¯åˆ†ä½™é¢",-1)),s("button",{class:"recharge-btn",onClick:N},[(e(),o(n(a(i).plus),{size:16})),t[6]||(t[6]=s("span",null,"å……å€¼",-1))])]),s("div",Z,[s("span",ss,d(h.value),1),t[8]||(t[8]=s("span",{class:"unit"},"ç§¯åˆ†",-1))]),t[9]||(t[9]=s("div",{class:"credits-hint"}," ç§¯åˆ†å¯ç”¨äºAIç”Ÿæˆã€è§’è‰²åˆ†æç­‰åŠŸèƒ½ ",-1))]),s("div",ts,[t[13]||(t[13]=s("h3",null,"å®‰å…¨è®¾ç½®",-1)),s("div",{class:"security-item",onClick:x},[s("div",es,[(e(),o(n(a(i).lock),{size:20})),t[10]||(t[10]=s("div",{class:"security-text"},[s("span",{class:"security-title"},"ä¿®æ”¹å¯†ç "),s("span",{class:"security-desc"},"å®šæœŸæ›´æ¢å¯†ç ä»¥ä¿æŠ¤è´¦æˆ·å®‰å…¨")],-1))]),(e(),o(n(a(i).chevronRight),{size:20,class:"arrow"}))]),s("div",{class:"security-item",onClick:S},[s("div",is,[(e(),o(n(a(i).phone),{size:20})),s("div",os,[t[11]||(t[11]=s("span",{class:"security-title"},"ç»‘å®šæ‰‹æœº",-1)),s("span",ns,d(k.value||"æœªç»‘å®š"),1)])]),(e(),o(n(a(i).chevronRight),{size:20,class:"arrow"}))]),s("div",{class:"security-item",onClick:B},[s("div",as,[(e(),o(n(a(i).logOut),{size:20})),t[12]||(t[12]=s("div",{class:"security-text"},[s("span",{class:"security-title"},"é€€å‡ºç™»å½•"),s("span",{class:"security-desc"},"é€€å‡ºå½“å‰è´¦æˆ·")],-1))]),(e(),o(n(a(i).chevronRight),{size:20,class:"arrow"}))])])]))}},fs=V(ls,[["__scopeId","data-v-2d771fce"]]);export{fs as default};
