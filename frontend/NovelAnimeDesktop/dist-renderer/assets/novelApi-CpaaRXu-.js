import{a as t}from"./api-BR07cdPl.js";class r{async importText(a){try{const s=(await t.axiosInstance.post("/novels/import-text",a)).data;return{success:s.success!==!1,novel:s.novel,creditsUsed:s.creditsUsed,message:s.message}}catch(e){return console.error("Failed to import text:",e),e.response?.data?{success:e.response.data.success!==!1,novel:e.response.data.novel,creditsUsed:e.response.data.creditsUsed,message:e.response.data.message}:{success:!1,message:e.message||"Failed to import text"}}}async importFile(a){try{const e=await t.axiosInstance.post("/novels/import-file",a);return{success:e.data.success||!0,novel:e.data.novel,creditsUsed:e.data.creditsUsed,message:e.data.message}}catch(e){return console.error("Failed to import file:",e),{success:!1,message:e.response?.data?.message||"Failed to import file"}}}async analyzeStructure(a){try{const s=(await t.axiosInstance.post("/novels/analyze-structure",{novelId:a})).data;return{success:s.success!==!1,chaptersCreated:s.chaptersCreated,scenesCreated:s.scenesCreated,message:s.message}}catch(e){return console.error("Failed to analyze structure:",e),e.response?.data?{success:e.response.data.success!==!1,chaptersCreated:e.response.data.chaptersCreated,scenesCreated:e.response.data.scenesCreated,message:e.response.data.message}:{success:!1,message:e.message||"Failed to analyze structure"}}}async getNovel(a){try{const e=await t.axiosInstance.get(`/novel?novelId=${a}`);return{success:!0,novel:e.data.novel||e.data}}catch(e){return console.error("Failed to get novel:",e),{success:!1,message:e.response?.data?.message||"Failed to get novel"}}}async listNovels(a){try{const e=await t.axiosInstance.get("/novels",{params:{projectId:a}});return{success:!0,novels:e.data.novels||e.data||[]}}catch(e){return console.error("Failed to list novels:",e),{success:!1,message:e.response?.data?.message||"Failed to list novels"}}}async updateNovel(a,e){try{const s=await t.axiosInstance.put("/novel",{novelId:a,...e});return{success:s.data.success||!0,message:s.data.message}}catch(s){return console.error("Failed to update novel:",s),{success:!1,message:s.response?.data?.message||"Failed to update novel"}}}async deleteNovel(a){try{const e=await t.axiosInstance.delete("/novel",{params:{novelId:a}});return{success:e.data.success||!0,message:e.data.message}}catch(e){return console.error("Failed to delete novel:",e),{success:!1,message:e.response?.data?.message||"Failed to delete novel"}}}}const c=new r;export{c as n};
