import{_ as x,d as b,c as z,i as n}from"./_plugin-vue_export-helper-BFgqyxDe.js";import{r as _,d as I,C as h,j as p,k as o,l as t,F as j,z as B,x as L,p as l,u as c,y as f,v as m}from"./runtime-core.esm-bundler-8-XbLWPr.js";import"./pinia-Be3yrKEl.js";import"./preload-helper-CmsKOCeN.js";const N={class:"settings-panel"},U={class:"section section--categories"},w={class:"section-items"},P=["onClick"],R={class:"section"},O={class:"section-items"},$={class:"section section--info"},A={class:"app-info"},D={class:"app-logo"},E={class:"app-details"},F={class:"app-version"},V={__name:"SettingsPanel",setup(J){const a=b(),v=z(),C=_("1.0.3"),u=_([{id:"profile",name:"个人资料",icon:n.user},{id:"ai",name:"AI服务",icon:n.zap},{id:"generation",name:"生成参数",icon:n.settings},{id:"interface",name:"界面设置",icon:n.eye}]),k=I(()=>a.panelContext.settings?.activeCategory||"profile");function y(s){a.updatePanelContext("settings",{activeCategory:s.id})}function g(s){switch(s){case"clear-cache":localStorage.removeItem("novel_anime_cache"),v.addNotification({type:"success",title:"清除成功",message:"缓存已清除",timeout:2e3});break;case"export-settings":const e={theme:localStorage.getItem("novel_anime_theme"),language:localStorage.getItem("novel_anime_language")},i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(i),d=document.createElement("a");d.href=r,d.download="novel-anime-settings.json",d.click(),URL.revokeObjectURL(r),v.addNotification({type:"success",title:"导出成功",message:"设置已导出",timeout:2e3});break}}const S=u.value.map(s=>s.id);return h(()=>{const s=a.panelContext.settings?.activeCategory;(!s||!S.includes(s))&&a.updatePanelContext("settings",{activeCategory:"profile"})}),(s,e)=>(o(),p("div",N,[t("div",U,[e[2]||(e[2]=t("div",{class:"section-title"},"设置",-1)),t("div",w,[(o(!0),p(j,null,B(u.value,i=>(o(),p("div",{key:i.id,class:L(["section-item",{"section-item--active":k.value===i.id}]),onClick:r=>y(i)},[(o(),l(c(i.icon),{size:16})),t("span",null,f(i.name),1)],10,P))),128))])]),t("div",R,[e[5]||(e[5]=t("div",{class:"section-title"},"快捷操作",-1)),t("div",O,[t("div",{class:"section-item",onClick:e[0]||(e[0]=i=>g("clear-cache"))},[(o(),l(c(m(n).trash),{size:16})),e[3]||(e[3]=t("span",null,"清除缓存",-1))]),t("div",{class:"section-item",onClick:e[1]||(e[1]=i=>g("export-settings"))},[(o(),l(c(m(n).download),{size:16})),e[4]||(e[4]=t("span",null,"导出设置",-1))])])]),t("div",$,[e[7]||(e[7]=t("div",{class:"section-title"},"关于",-1)),t("div",A,[t("div",D,[(o(),l(c(m(n).sparkles),{size:28}))]),t("div",E,[e[6]||(e[6]=t("div",{class:"app-name"},"小说动漫生成器",-1)),t("div",F,"版本 "+f(C.value),1)])])])]))}},H=x(V,[["__scopeId","data-v-19f9279f"]]);export{H as default};
