import{vModelText as $,vModelSelect as E,withModifiers as N,withKeys as Ce}from"./vue.runtime.esm-bundler-tGj6Om4U.js";import{_ as ye,u as he,c as _e,e as xe,d as we,i as u}from"./_plugin-vue_export-helper-BFgqyxDe.js";import{C as W}from"./CharacterSystem-9i6-R3qi.js";import{a as Le}from"./api-BR07cdPl.js";import{characterApi as je}from"./index-CMv62JsV.js";import{V as $e}from"./ViewHeader-DsFMPudV.js";import{r as b,d as D,C as Ne,w as X,j as d,k as n,D as Se,l as a,s as L,E as ze,p as f,u as g,v as p,y as c,q as h,G as Ie,F as U,z as V,x as P,B as Y,A as De}from"./runtime-core.esm-bundler-8-XbLWPr.js";import"./pinia-Be3yrKEl.js";import"./preload-helper-CmsKOCeN.js";import"./novelApi-CpaaRXu-.js";const Ue={class:"characters-view"},Ve=["disabled"],Pe={class:"characters-toolbar"},Ae={class:"search-box"},Be={class:"toolbar-controls"},Re={class:"filter-group"},Oe={class:"filter-group"},Ee={class:"filter-group"},Me=["title"],Te={class:"stats-bar"},Fe={class:"stat-item"},qe={class:"stat-value"},Je={class:"stat-item"},Ke={class:"stat-value"},Ge={class:"stat-item"},He={class:"stat-value"},Qe={class:"stat-item"},We={class:"stat-value"},Xe={class:"stat-item"},Ye={class:"stat-value"},Ze={class:"stat-item"},et={class:"stat-value"},tt={class:"characters-grid"},at=["onClick"],st={class:"character-avatar"},ot={class:"character-info"},nt={class:"character-name"},lt={class:"character-description"},it={class:"character-tags"},rt={key:1,class:"tag tag--placeholder"},ct={class:"character-stats"},dt={class:"stat"},ut={class:"stat-value"},pt={class:"stat"},vt={class:"stat-value"},mt={class:"character-actions"},ft=["onClick","disabled"],gt=["onClick"],kt=["onClick"],bt=["onClick"],Ct={key:0,class:"locked-indicator",title:"æ¡£æ¡ˆå·²é”å®š"},yt={class:"add-icon"},ht={key:1,class:"character-detail-panel"},_t={class:"panel-header"},xt={class:"panel-content"},wt={class:"detail-avatar"},Lt={class:"detail-section"},jt={class:"detail-section"},$t={key:0,class:"custom-select__options"},Nt=["onClick"],St={class:"detail-section"},zt={class:"detail-section"},It={class:"tags-input"},Dt=["onClick"],Ut={class:"detail-section"},Vt={class:"panel-actions"},Pt={__name:"CharactersView",setup(At){const Z=he(),k=_e(),C=xe(),ee=we(),_=b(""),v=b(null),l=b({}),x=b(""),A=b(!1),M=b(!1),w=b(!1),S=b(""),z=b(""),B=b("name"),j=b("asc"),te=D(()=>ee.panelContext.characters?.novelId),ae=[{value:"protagonist",label:"ä¸»è§’"},{value:"supporting",label:"é…è§’"},{value:"antagonist",label:"åæ´¾"},{value:"minor",label:"é¾™å¥—"}];function se(t){l.value.role=t,w.value=!1}const i=b([]);Ne(()=>{T()}),X(te,t=>{t&&oe(t)},{immediate:!0});async function oe(t){if(t){M.value=!0;try{const e=await je.getCharacters(t);e.success&&e.characters&&(i.value=e.characters.map(s=>({id:s.characterId,name:s.name,role:s.role||"minor",description:s.description||"",tags:s.personality?s.personality.split(",").map(o=>o.trim()):[],color:I(s.role||"minor"),appearances:s.mentionCount||0,scenes:0,appearance:s.appearance||"",isLocked:s.isLocked||!1,extractionConfidence:s.extractionConfidence||0})),k.addNotification({type:"success",title:"åŠ è½½æˆåŠŸ",message:`å·²åŠ è½½ ${i.value.length} ä¸ªè§’è‰²`,timeout:2e3}))}catch(e){console.error("Failed to load characters from backend:",e),T()}finally{M.value=!1}}}function T(){C.currentProject?.characters?i.value=C.currentProject.characters.map(t=>({...t,color:t.color||fe(),tags:t.tags||ne(t.attributes),description:t.description||le(t.attributes),appearance:t.appearance||t.attributes?.appearance||"",appearances:t.appearanceCount||t.appearances?.length||0,scenes:t.sceneCount||0,isLocked:!!W.getLockedProfile(t.id)})):i.value=[{id:"1",name:"ææ˜",role:"protagonist",description:"æ•…äº‹çš„ä¸»è§’ï¼Œä¸€ä¸ªå‹‡æ•¢è€Œå–„è‰¯çš„å¹´è½»äºº",tags:["å‹‡æ•¢","å–„è‰¯","æ­£ä¹‰"],color:"#7a9188",appearances:45,scenes:12,appearance:"é»‘è‰²çŸ­å‘ï¼Œèº«æé«˜å¤§ï¼Œçœ¼ç¥åšå®š",isLocked:!1},{id:"2",name:"ç‹èŠ³",role:"supporting",description:"ä¸»è§’çš„é’æ¢…ç«¹é©¬ï¼Œèªæ˜ä¼¶ä¿",tags:["èªæ˜","æ¸©æŸ”","åšå¼º"],color:"#8a9cad",appearances:32,scenes:8,appearance:"é•¿å‘é£˜é£˜ï¼Œé¢å®¹æ¸…ç§€",isLocked:!1},{id:"3",name:"å¼ å¨",role:"antagonist",description:"æ•…äº‹çš„åæ´¾ï¼Œé‡å¿ƒå‹ƒå‹ƒ",tags:["ç‹¡çŒ¾","é‡å¿ƒ","å†·é…·"],color:"#6a6a6a",appearances:18,scenes:6,appearance:"é¢å®¹é˜´æ²‰ï¼Œçœ¼ç¥é”åˆ©",isLocked:!1},{id:"4",name:"è€é™ˆ",role:"minor",description:"æ‘é‡Œçš„è€äººï¼Œè§å¤šè¯†å¹¿",tags:["æ™ºæ…§","å’Œè”¼"],color:"#a9adab",appearances:8,scenes:3,appearance:"ç™½å‘è‹è‹ï¼Œæ…ˆçœ‰å–„ç›®",isLocked:!1}]}function ne(t){if(!t)return[];const e=[];return t.personality&&e.push(...t.personality.split(",").map(s=>s.trim()).filter(Boolean)),e.slice(0,5)}function le(t){if(!t)return"";const e=[];return t.gender&&e.push(t.gender==="male"?"ç”·æ€§":"å¥³æ€§"),t.age&&e.push(`${t.age}å²`),t.occupation&&e.push(t.occupation),t.personality&&e.push(t.personality),e.join("ï¼Œ")||"æš‚æ— æè¿°"}const F=D(()=>{let t=i.value;if(_.value.trim()){const e=_.value.toLowerCase();t=t.filter(s=>s.name.toLowerCase().includes(e)||s.description?.toLowerCase().includes(e)||s.tags?.some(o=>o.toLowerCase().includes(e)))}return S.value&&(t=t.filter(e=>e.role===S.value)),z.value==="locked"?t=t.filter(e=>e.isLocked):z.value==="unlocked"&&(t=t.filter(e=>!e.isLocked)),t=[...t].sort((e,s)=>{let o,r;switch(B.value){case"name":o=e.name,r=s.name;break;case"role":const m={protagonist:1,supporting:2,antagonist:3,minor:4};o=m[e.role]||5,r=m[s.role]||5;break;case"appearances":o=e.appearances||0,r=s.appearances||0;break;case"scenes":o=e.scenes||0,r=s.scenes||0;break;default:return 0}return j.value==="asc"?o>r?1:o<r?-1:0:o<r?1:o>r?-1:0}),t});D(()=>{const t=i.value.length>0,s=C.currentProject?.status,o=s==="analyzed"||s==="parsed";return console.log("ğŸ‘¥ showConfirmAllButton check:",{hasCharacters:t,inReviewStage:o,status:s,charactersCount:i.value.length}),t&&o});const q=D(()=>{const e=C.currentProject?.status;return e==="characters_confirmed"||e==="generating"||e==="completed"});X(v,t=>{t&&(l.value={...t,tags:Array.isArray(t.tags)?[...t.tags]:[]}),w.value=!1});function ie(t){v.value=t}function J(){const t={id:`char_${Date.now()}`,name:"æ–°è§’è‰²",role:"minor",description:"",tags:[],color:I("minor"),appearances:0,scenes:0,appearance:""};i.value.push(t),v.value=t,k.addNotification({type:"success",title:"æ·»åŠ æˆåŠŸ",message:"æ–°è§’è‰²å·²åˆ›å»º",timeout:2e3})}function re(t){v.value=t}function ce(t){if(confirm(`ç¡®å®šè¦åˆ é™¤è§’è‰² "${t.name}" å—ï¼Ÿ`)){const e=i.value.findIndex(s=>s.id===t.id);e>-1&&(i.value.splice(e,1),v.value?.id===t.id&&(v.value=null),k.addNotification({type:"success",title:"åˆ é™¤æˆåŠŸ",message:`è§’è‰² "${t.name}" å·²åˆ é™¤`,timeout:2e3}))}}function de(){const t=i.value.findIndex(e=>e.id===l.value.id);t>-1&&(l.value.color=I(l.value.role),i.value[t]={...l.value},C.currentProject&&C.updateCharacter(l.value.id,{name:l.value.name,role:l.value.role,attributes:{appearance:l.value.appearance,personality:l.value.tags?.join(", "),age:l.value.age,gender:l.value.gender}}),k.addNotification({type:"success",title:"ä¿å­˜æˆåŠŸ",message:"è§’è‰²ä¿¡æ¯å·²æ›´æ–°",timeout:2e3})),v.value=null}async function K(t){A.value=!0;try{const e={id:t.id,name:t.name,role:t.role,attributes:{appearance:t.appearance,personality:t.tags?.join(", "),age:t.age,gender:t.gender,occupation:t.occupation,background:t.background},relationships:t.relationships||[],appearances:t.appearances||[]};W.createLockedProfile(e);const s=i.value.findIndex(o=>o.id===t.id);s>-1&&(i.value[s].isLocked=!0),k.addNotification({type:"success",title:"é”å®šæˆåŠŸ",message:`è§’è‰² "${t.name}" çš„æ¡£æ¡ˆå·²é”å®šï¼Œå°†ä¿æŒä¸€è‡´æ€§`,timeout:3e3})}catch(e){k.addNotification({type:"error",title:"é”å®šå¤±è´¥",message:e.message,timeout:3e3})}finally{A.value=!1}}function ue(t){const e=`locked_profile_${t.id}`;localStorage.removeItem(e);const s=i.value.findIndex(o=>o.id===t.id);s>-1&&(i.value[s].isLocked=!1),k.addNotification({type:"info",title:"å·²è§£é”",message:`è§’è‰² "${t.name}" çš„æ¡£æ¡ˆå·²è§£é”`,timeout:2e3})}async function pe(){console.log("ğŸ‘¥ confirmAllCharacters called"),i.value.forEach(t=>{t.confirmed=!0,(t.role==="protagonist"||t.role==="antagonist")&&(t.isLocked||K(t))});try{const t=C.currentProject?.id||C.currentProject?.projectId;if(console.log("ğŸ‘¥ Updating project status, projectId:",t),t){const e=await Le.axiosInstance.put(`/project/${t}`,{status:"characters_confirmed"});console.log("ğŸ‘¥ Project status update response:",e.data)}}catch(t){console.warn("Failed to update project status:",t)}k.addNotification({type:"success",title:"è§’è‰²ç¡®è®¤å®Œæˆ",message:"æ‰€æœ‰è§’è‰²å·²ç¡®è®¤ï¼Œå³å°†è¿›å…¥åŠ¨æ¼«ç”Ÿæˆæ­¥éª¤",timeout:2e3}),setTimeout(()=>{Z.push("/")},1500)}function ve(){x.value.trim()&&(l.value.tags||(l.value.tags=[]),l.value.tags.includes(x.value.trim())||(l.value.tags.push(x.value.trim()),x.value=""))}function me(t){l.value.tags.splice(t,1)}function G(t){return{protagonist:"ä¸»è§’",supporting:"é…è§’",antagonist:"åæ´¾",minor:"é¾™å¥—"}[t]||t}function I(t){const e={protagonist:"#7a9188",supporting:"#8a9cad",antagonist:"#6a6a6a",minor:"#a9adab"};return e[t]||e.minor}function fe(){const t=["#7a9188","#8a9cad","#6a6a6a","#a9adab","#959c99","#8a8a95"];return t[Math.floor(Math.random()*t.length)]}function R(t){return i.value.filter(e=>e.role===t).length}function ge(){return i.value.filter(t=>t.isLocked).length}function ke(){try{const t={version:"1.0",exportDate:new Date().toISOString(),projectId:C.currentProject?.id,projectName:C.currentProject?.name,characters:i.value.map(m=>({id:m.id,name:m.name,role:m.role,description:m.description,tags:m.tags,appearance:m.appearance,appearances:m.appearances,scenes:m.scenes,isLocked:m.isLocked}))},e=JSON.stringify(t,null,2),s=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(s),r=document.createElement("a");r.href=o,r.download=`characters_${C.currentProject?.name||"export"}_${Date.now()}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o),k.addNotification({type:"success",title:"å¯¼å‡ºæˆåŠŸ",message:`å·²å¯¼å‡º ${i.value.length} ä¸ªè§’è‰²`,timeout:2e3})}catch(t){console.error("Export failed:",t),k.addNotification({type:"error",title:"å¯¼å‡ºå¤±è´¥",message:t.message,timeout:3e3})}}function be(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async e=>{const s=e.target.files[0];if(s)try{const o=await s.text(),r=JSON.parse(o);if(!r.characters||!Array.isArray(r.characters))throw new Error("æ— æ•ˆçš„è§’è‰²æ•°æ®æ ¼å¼");const m=confirm(`å‘ç° ${r.characters.length} ä¸ªè§’è‰²

ç‚¹å‡»"ç¡®å®š"è¿½åŠ åˆ°ç°æœ‰è§’è‰²
ç‚¹å‡»"å–æ¶ˆ"æ›¿æ¢æ‰€æœ‰è§’è‰²`)?"append":"replace";m==="replace"&&(i.value=[]);let H=0,O=0;for(const y of r.characters){if(i.value.some(Q=>Q.id===y.id||Q.name===y.name)&&m==="append"){O++;continue}y.color||(y.color=I(y.role)),i.value.push({...y,id:y.id||`char_${Date.now()}_${Math.random()}`,tags:y.tags||[],appearances:y.appearances||0,scenes:y.scenes||0,isLocked:y.isLocked||!1}),H++}k.addNotification({type:"success",title:"å¯¼å…¥æˆåŠŸ",message:`å·²å¯¼å…¥ ${H} ä¸ªè§’è‰²${O>0?`ï¼Œè·³è¿‡ ${O} ä¸ªé‡å¤è§’è‰²`:""}`,timeout:3e3})}catch(o){console.error("Import failed:",o),k.addNotification({type:"error",title:"å¯¼å…¥å¤±è´¥",message:o.message,timeout:3e3})}},t.click()}return(t,e)=>(n(),d("div",Ue,[Se($e,{title:"è§’è‰²ç®¡ç†",subtitle:"ç®¡ç†è§’è‰²æ¡£æ¡ˆå’Œä¸€è‡´æ€§"},{actions:ze(()=>[i.value.length>0?(n(),d("button",{key:0,class:"confirm-btn",onClick:pe,disabled:q.value},[(n(),f(g(p(u).check),{size:16})),a("span",null,c(q.value?"å·²ç¡®è®¤":"ç¡®è®¤å…¨éƒ¨"),1)],8,Ve)):L("",!0),a("button",{class:"add-character-btn",onClick:J},[(n(),f(g(p(u).plus),{size:16})),e[14]||(e[14]=a("span",null,"æ·»åŠ è§’è‰²",-1))])]),_:1}),a("div",Pe,[a("div",Ae,[(n(),f(g(p(u).search),{size:16,class:"search-icon"})),h(a("input",{type:"text",placeholder:"æœç´¢è§’è‰²...","onUpdate:modelValue":e[0]||(e[0]=s=>_.value=s),class:"search-input"},null,512),[[$,_.value]]),_.value?(n(),d("button",{key:0,class:"search-clear",onClick:e[1]||(e[1]=s=>_.value=""),title:"æ¸…é™¤æœç´¢"},[(n(),f(g(p(u).x),{size:14}))])):L("",!0)]),a("div",Be,[a("div",Re,[e[16]||(e[16]=a("label",{class:"filter-label"},"ç±»å‹:",-1)),h(a("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>S.value=s),class:"filter-select"},[...e[15]||(e[15]=[Ie('<option value="" data-v-aad1cb28>å…¨éƒ¨</option><option value="protagonist" data-v-aad1cb28>ä¸»è§’</option><option value="supporting" data-v-aad1cb28>é…è§’</option><option value="antagonist" data-v-aad1cb28>åæ´¾</option><option value="minor" data-v-aad1cb28>é¾™å¥—</option>',5)])],512),[[E,S.value]])]),a("div",Oe,[e[18]||(e[18]=a("label",{class:"filter-label"},"çŠ¶æ€:",-1)),h(a("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>z.value=s),class:"filter-select"},[...e[17]||(e[17]=[a("option",{value:""},"å…¨éƒ¨",-1),a("option",{value:"locked"},"å·²é”å®š",-1),a("option",{value:"unlocked"},"æœªé”å®š",-1)])],512),[[E,z.value]])]),a("div",Ee,[e[20]||(e[20]=a("label",{class:"filter-label"},"æ’åº:",-1)),h(a("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>B.value=s),class:"filter-select"},[...e[19]||(e[19]=[a("option",{value:"name"},"åç§°",-1),a("option",{value:"role"},"ç±»å‹",-1),a("option",{value:"appearances"},"å‡ºåœºæ¬¡æ•°",-1),a("option",{value:"scenes"},"å…³è”åœºæ™¯",-1)])],512),[[E,B.value]])]),a("button",{class:"sort-direction-btn",onClick:e[5]||(e[5]=s=>j.value=j.value==="asc"?"desc":"asc"),title:j.value==="asc"?"å‡åº":"é™åº"},[(n(),f(g(j.value==="asc"?p(u).arrowUp:p(u).arrowDown),{size:16}))],8,Me),e[23]||(e[23]=a("div",{class:"divider"},null,-1)),a("button",{class:"toolbar-btn",onClick:ke,title:"å¯¼å‡ºè§’è‰²"},[(n(),f(g(p(u).download),{size:16})),e[21]||(e[21]=a("span",null,"å¯¼å‡º",-1))]),a("button",{class:"toolbar-btn",onClick:be,title:"å¯¼å…¥è§’è‰²"},[(n(),f(g(p(u).upload),{size:16})),e[22]||(e[22]=a("span",null,"å¯¼å…¥",-1))])])]),a("div",Te,[a("div",Fe,[e[24]||(e[24]=a("span",{class:"stat-label"},"æ€»è®¡:",-1)),a("span",qe,c(i.value.length),1)]),a("div",Je,[e[25]||(e[25]=a("span",{class:"stat-label"},"ä¸»è§’:",-1)),a("span",Ke,c(R("protagonist")),1)]),a("div",Ge,[e[26]||(e[26]=a("span",{class:"stat-label"},"é…è§’:",-1)),a("span",He,c(R("supporting")),1)]),a("div",Qe,[e[27]||(e[27]=a("span",{class:"stat-label"},"åæ´¾:",-1)),a("span",We,c(R("antagonist")),1)]),a("div",Xe,[e[28]||(e[28]=a("span",{class:"stat-label"},"å·²é”å®š:",-1)),a("span",Ye,c(ge()),1)]),a("div",Ze,[e[29]||(e[29]=a("span",{class:"stat-label"},"æ˜¾ç¤º:",-1)),a("span",et,c(F.value.length),1)])]),a("div",tt,[(n(!0),d(U,null,V(F.value,s=>(n(),d("div",{key:s.id,class:P(["character-card",{"character-card--selected":v.value?.id===s.id}]),onClick:o=>ie(s)},[a("div",st,[a("div",{class:"avatar-placeholder",style:Y({background:s.color})},c(s.name.charAt(0)),5),a("div",{class:P(["character-role",`role--${s.role}`])},c(G(s.role)),3)]),a("div",ot,[a("h3",nt,c(s.name),1),a("p",lt,c(s.description||"æš‚æ— æè¿°"),1),a("div",it,[s.tags&&s.tags.length>0?(n(!0),d(U,{key:0},V(s.tags,o=>(n(),d("span",{key:o,class:"tag"},c(o),1))),128)):(n(),d("span",rt,"æš‚æ— æ ‡ç­¾"))]),a("div",ct,[a("div",dt,[e[30]||(e[30]=a("span",{class:"stat-label"},"å‡ºåœºæ¬¡æ•°",-1)),a("span",ut,c(s.appearances||0),1)]),a("div",pt,[e[31]||(e[31]=a("span",{class:"stat-label"},"å…³è”åœºæ™¯",-1)),a("span",vt,c(s.scenes||0),1)])])]),a("div",mt,[s.isLocked?(n(),d("button",{key:1,class:"action-btn action-btn--unlock",onClick:N(o=>ue(s),["stop"]),title:"è§£é”æ¡£æ¡ˆ"},[(n(),f(g(p(u).unlock),{size:16}))],8,gt)):(n(),d("button",{key:0,class:"action-btn action-btn--lock",onClick:N(o=>K(s),["stop"]),title:"é”å®šæ¡£æ¡ˆ",disabled:A.value},[(n(),f(g(p(u).lock),{size:16}))],8,ft)),a("button",{class:"action-btn",onClick:N(o=>re(s),["stop"]),title:"ç¼–è¾‘"},[(n(),f(g(p(u).edit),{size:16}))],8,kt),a("button",{class:"action-btn action-btn--danger",onClick:N(o=>ce(s),["stop"]),title:"åˆ é™¤"},[(n(),f(g(p(u).trash),{size:16}))],8,bt)]),s.isLocked?(n(),d("div",Ct,[(n(),f(g(p(u).lock),{size:12}))])):L("",!0)],10,at))),128)),a("div",{class:"character-card character-card--add",onClick:J},[a("div",yt,[(n(),f(g(p(u).plus),{size:32}))]),e[32]||(e[32]=a("span",null,"æ·»åŠ æ–°è§’è‰²",-1))])]),v.value?(n(),d("div",{key:0,class:"panel-overlay",onClick:e[6]||(e[6]=N(s=>v.value=null,["self"]))})):L("",!0),v.value?(n(),d("div",ht,[a("div",_t,[e[33]||(e[33]=a("h2",null,"è§’è‰²è¯¦æƒ…",-1)),a("button",{class:"close-btn",onClick:e[7]||(e[7]=s=>v.value=null)},[(n(),f(g(p(u).x),{size:20}))])]),a("div",xt,[a("div",wt,[a("div",{class:"avatar-large",style:Y({background:v.value.color})},c(v.value.name.charAt(0)),5)]),a("div",Lt,[e[34]||(e[34]=a("label",null,"è§’è‰²åç§°",-1)),h(a("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=s=>l.value.name=s),class:"detail-input"},null,512),[[$,l.value.name]])]),a("div",jt,[e[35]||(e[35]=a("label",null,"è§’è‰²ç±»å‹",-1)),a("div",{class:P(["custom-select",{"custom-select--open":w.value}])},[a("div",{class:"custom-select__trigger",onClick:e[9]||(e[9]=s=>w.value=!w.value)},[a("span",null,c(G(l.value.role)),1),(n(),f(g(p(u).chevronDown),{size:16,class:"select-arrow"}))]),w.value?(n(),d("div",$t,[(n(),d(U,null,V(ae,s=>a("div",{key:s.value,class:P(["custom-select__option",{"custom-select__option--selected":l.value.role===s.value}]),onClick:o=>se(s.value)},c(s.label),11,Nt)),64))])):L("",!0)],2)]),a("div",St,[e[36]||(e[36]=a("label",null,"è§’è‰²æè¿°",-1)),h(a("textarea",{"onUpdate:modelValue":e[10]||(e[10]=s=>l.value.description=s),class:"detail-textarea",rows:"4",placeholder:"è¾“å…¥è§’è‰²æè¿°..."},null,512),[[$,l.value.description]])]),a("div",zt,[e[37]||(e[37]=a("label",null,"æ€§æ ¼ç‰¹ç‚¹",-1)),a("div",It,[(n(!0),d(U,null,V(l.value.tags,(s,o)=>(n(),d("span",{key:o,class:"tag tag--editable"},[De(c(s)+" ",1),a("button",{class:"tag-remove",onClick:r=>me(o)},"Ã—",8,Dt)]))),128)),h(a("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=s=>x.value=s),onKeyup:Ce(ve,["enter"]),placeholder:"æ·»åŠ æ ‡ç­¾...",class:"tag-input"},null,544),[[$,x.value]])])]),a("div",Ut,[e[38]||(e[38]=a("label",null,"å¤–è²Œç‰¹å¾",-1)),h(a("textarea",{"onUpdate:modelValue":e[12]||(e[12]=s=>l.value.appearance=s),class:"detail-textarea",rows:"3",placeholder:"æè¿°è§’è‰²å¤–è²Œ..."},null,512),[[$,l.value.appearance]])]),a("div",Vt,[a("button",{class:"btn btn--secondary",onClick:e[13]||(e[13]=s=>v.value=null)},"å–æ¶ˆ"),a("button",{class:"btn btn--primary",onClick:de},"ä¿å­˜")])])])):L("",!0)]))}},Ht=ye(Pt,[["__scopeId","data-v-aad1cb28"]]);export{Ht as default};
